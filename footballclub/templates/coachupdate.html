{%load static%}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>Dashboard 3</title>

<!-- Fontfaces CSS-->
<link href="{% static 'css/css/font-face.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/font-awesome-4.7/css/font-awesome.min.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/font-awesome-5/css/fontawesome-all.min.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/mdi-font/css/material-design-iconic-font.min.css' %}" rel="stylesheet" media="all">

<!-- Bootstrap CSS-->
<link href="{% static 'vendor/bootstrap-4.1/bootstrap.min.css' %}" rel="stylesheet" media="all">

<!-- Vendor CSS-->
<link href="{% static 'vendor/animsition/animsition.min.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/wow/animate.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/css-hamburgers/hamburgers.min.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/slick/slick.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/select2/select2.min.css' %}" rel="stylesheet" media="all">
<link href="{% static 'vendor/perfect-scrollbar/perfect-scrollbar.css' %}" rel="stylesheet" media="all">

<!-- Main CSS-->
<link href="{% static 'css/css/theme.css' %}" rel="stylesheet" media="all">


</head>

<body class="animsition">
    <div class="page-wrapper">
        <!-- HEADER DESKTOP-->
        <header class="header-desktop3 d-none d-lg-block">
            <div class="section__content section__content--p35">
                <div class="header3-wrap">
                    <div class="header__logo">
                        <a href="#">
                            <img src="{% static 'images/images/icon/logo2.png' %}" alt="CoolAdmin" />
                        </a>
                    </div>
                    <div class="header__navbar">
                        <ul class="list-unstyled">
                            <li class="has-sub">
                                <a href="{% url 'coach' %}">
                                    <i class="fas fa-tachometer-alt"></i>Dashboard
                                    <span class="bot-line"></span>
                                </a>

                            </li>
                            <li>
                                <a href="{% url 'coachprofile' %}">
                                    <i class="fas fa-trophy"></i>
                                    <span class="bot-line"></span>Profile</a>
                            </li>
                            <li>
                                <a href="{% url 'training_list' %}">
                                    <i class="fas fa-shopping-basket"></i>
                                    <span class="bot-line"></span> Training Sessions</a>
                            </li>

                            <li class="has-sub">
                                <a href="{% url 'match_list1' %}">
                                    <i class="fas fa-desktop"></i>
                                    <span class="bot-line"></span>Matches</a>
                            </li>
                        </ul>
                    </div>
                    <div class="header__tool">
                        
                        <div class="account-wrap">
                            <div class="account-item account-item--style2 clearfix js-item-menu">
                                <div class="image">
                                    <img src="{% if user.img %}{{ user.img.url|safe }}{% else %}{% static 'images/default_avatar.png' %}{% endif %}" alt="John Doe" />
                                </div>
                                <div class="content">
                                    <a class="js-acc-btn" href="#">{{ user.first_name }} {{ user.last_name }}</a>
                                </div>
                                <div class="account-dropdown js-dropdown">
                                    <div class="info clearfix">
                                        <div class="image">
                                            <a href="#">
                                                <img src="{% if user.img %}{{ user.img.url|safe }}{% else %}{% static 'images/default_avatar.png' %}{% endif %}" alt="John Doe" />
                                            </a>
                                        </div>
                                        <div class="content">
                                            <h5 class="name">
                                                <a href="#">{{ user.first_name }}</a>
                                            </h5>
                                            <span class="email">{{ user.email }}</span>
                                        </div>
                                    </div>
                                    <div class="account-dropdown__footer">
                                        <a href="{% url 'logout' %}">
                                            <i class="zmdi zmdi-power"></i>Logout</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- END HEADER DESKTOP-->

        <!-- HEADER MOBILE-->
        <header class="header-mobile header-mobile-2 d-block d-lg-none">
            <div class="header-mobile__bar">
                <div class="container-fluid">
                    <div class="header-mobile-inner">
                        <a class="logo" href="index.html">
                            <img src="images/icon/logo-white.png" alt="CoolAdmin" />
                        </a>
                        <button class="hamburger hamburger--slider" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <nav class="navbar-mobile">
                <div class="container-fluid">
                    <ul class="navbar-mobile__list list-unstyled">
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-tachometer-alt"></i>Dashboard</a>
                        </li>



                    </ul>
                </div>
            </nav>
        </header>
        <div class="sub-header-mobile-2 d-block d-lg-none">
            <div class="header__tool">
        
                <div class="account-wrap">
                    <div class="account-item account-item--style2 clearfix js-item-menu">
                        <div class="image">
                            <img src="images/icon/avatar-01.jpg" alt="John Doe" />
                        </div>
                        <div class="content">
                            <a class="js-acc-btn" href="#">john doe</a>
                        </div>
                        <div class="account-dropdown js-dropdown">
                            <div class="info clearfix">
                                <div class="image">
                                    <a href="#">
                                        <img src="{% if user.img %}{{ user.img.url|safe }}{% else %}{% static 'images/default_avatar.png' %}{% endif %}" alt="John Doe" />
                                    </a>
                                </div>
                                <div class="content">
                                    <h5 class="name">
                                        <a href="#">{{ user.first_name }}</a>
                                    </h5>
                                    <span class="email">{{ user.email }}</span>
                                </div>
                            </div>
                            <div class="account-dropdown__footer">
                                <a href="{% url 'logout' %}">
                                    <i class="zmdi zmdi-power"></i>Logout</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END HEADER MOBILE -->

        <!-- PAGE CONTENT-->
        <div class="page-content--bgf7">
            <!-- BREADCRUMB-->
            <section class="au-breadcrumb2">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="au-breadcrumb-content">
                                <div class="au-breadcrumb-left">
                                    <span class="au-breadcrumb-span">You are here:</span>
                                    <ul class="list-unstyled list-inline au-breadcrumb__list">
                                        <li class="list-inline-item active">
                                            <a href="#">Home</a>
                                        </li>
                                        <li class="list-inline-item seprate">
                                            <span>/</span>
                                        </li>
                                        <li class="list-inline-item">Dashboard</li>
                                    </ul>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- END BREADCRUMB-->

            <!-- WELCOME-->
            <section class="welcome p-t-10">
                <div class="container">
                    <h2>Player Update</h2>
                    <form id="form" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <label for="first_name">First Name:</label>
                        <input class="au-input au-input--full" type="text" id="first_name" name="first_name" value="{{ user.first_name }}"><br>
                        <span id="firstNameError" class="error-message"></span><br>
                    
                        <label for="last_name">Last Name:</label>
                        <input class="au-input au-input--full" type="text" id="last_name" name="last_name" value="{{ user.last_name }}"><br>
                        <span id="lastNameError" class="error-message"></span><br>
                    
                        <label for="age">Age:</label>
                        <input class="au-input au-input--full" type="number" id="age" name="age" value="{{ user.age }}"><br>
                        <span id="ageError" class="error-message"></span><br>
                        
                    
                        <label for="image">Profile Image:</label>
                        <input class="au-input au-input--full" type="file" id="image" name="image" accept=".jpg, .jpeg, .png"><br><br>
                    
                        <button class="au-btn au-btn--block au-btn--green m-b-20" type="submit" value="Update">Submit</button>
                    </form>
                    
                    <script>
    const form = document.getElementById("Form");
    const fnameInput = document.getElementById("first_name");
    const lnameInput = document.getElementById("last_name");
    const ageInput = document.getElementById("age");
    const jerseyNumberInput = document.getElementById("jerseyno");
    const imageInput = document.getElementById("image");
    const ageError = document.getElementById("ageError");
    
    
    // Add an "input" event listener to the First Name input
    fnameInput.addEventListener("input", () => {
        validateAlphabetsOnly(fnameInput, "firstNameError");
    });
    
    // Add an "input" event listener to the Last Name input
    lnameInput.addEventListener("input", () => {
        validateAlphabetsOnly(lnameInput, "lastNameError");
    });
    
    // Add an "input" event listener to the Date of Birth input
    ageInput.addEventListener("input", () => {
        validateDateOfBirth(ageInput, "ageError");
    });
    
    // Add an "input" event listener to the Jersey Number input
    jerseyNumberInput.addEventListener("input", () => {
        validateJerseyNumber(jerseyNumberInput, "jerseyNoError", "jerseyNoCheckMessage");
    });
    
    // Add a "change" event listener to the Image input for file type validation
    imageInput.addEventListener("change", () => {
        validateImageFileType(imageInput);
    });
    
    // Function to validate that only alphabets are entered
    function validateAlphabetsOnly(inputElement, errorSpanId) {
        const inputValue = inputElement.value;
        const regex = /^[a-zA-Z]+$/;
        const errorSpan = document.getElementById(errorSpanId);
    
        if (!regex.test(inputValue)) {
            inputElement.classList.add("error");
            errorSpan.textContent = "Enter valid name";
        } else {
            inputElement.classList.remove("error");
            errorSpan.textContent = "";
        }
    }
    
    // Function to validate date of birth
    
    
    // Function to validate jersey number
    function validateJerseyNumber(inputElement, errorSpanId, checkMessageSpanId) {
        const inputValue = parseInt(inputElement.value, 10);
        const errorSpan = document.getElementById(errorSpanId);
        const checkMessageSpan = document.getElementById(checkMessageSpanId);
    
        if (isNaN(inputValue) || inputValue < 1 || inputValue > 99) {
            inputElement.classList.add("error");
            errorSpan.textContent = "Jersey number must be between 1 and 99.";
            checkMessageSpan.textContent = "";
        } else {
            inputElement.classList.remove("error");
            errorSpan.textContent = "";
            checkMessageSpan.textContent = "Jersey number is valid.";
        }
    }
    
    // Function to validate file type
    function validateImageFileType(inputElement) {
        const allowedExtensions = ["jpg", "jpeg", "png"];
        const fileName = inputElement.value.toLowerCase();
        const fileExtension = fileName.substring(fileName.lastIndexOf(".") + 1);
        const fileTypeError = document.getElementById("fileTypeError");
    
        if (!allowedExtensions.includes(fileExtension)) {
            inputElement.classList.add("error");
            fileTypeError.textContent = "Please select a JPG or PNG image.";
        } else {
            inputElement.classList.remove("error");
            fileTypeError.textContent = "";
        }
    }
    
    // Add a "submit" event listener to the form for final validation
    form.addEventListener("submit", (event) => {
        const isFirstNameValid = validateAlphabetsOnly(fnameInput, "firstNameError");
        const isLastNameValid = validateAlphabetsOnly(lnameInput, "lastNameError");
        const isDateOfBirthValid = validateDateOfBirth(ageInput, "ageError");
        const isJerseyNumberValid = validateJerseyNumber(jerseyNumberInput, "jerseyNoError", "jerseyNoCheckMessage");
    
        if (!isFirstNameValid || !isLastNameValid || !isDateOfBirthValid || !isJerseyNumberValid) {
            event.preventDefault();
        }
    });
    
                    </script>
                    </div>
            </section>
            <!-- END WELCOME-->

            

  
        </div>

    </div>

<!-- Jquery JS-->
<script src="{% static 'vendor/jquery-3.2.1.min.js' %}"></script>
<!-- Bootstrap JS-->
<script src="{% static 'vendor/bootstrap-4.1/popper.min.js' %}"></script>
<script src="{% static 'vendor/bootstrap-4.1/bootstrap.min.js' %}"></script>
<!-- Vendor JS -->
<script src="{% static 'vendor/slick/slick.min.js' %}"></script>
<script src="{% static 'vendor/wow/wow.min.js' %}"></script>
<script src="{% static 'vendor/animsition/animsition.min.js' %}"></script>
<script src="{% static 'vendor/bootstrap-progressbar/bootstrap-progressbar.min.js' %}"></script>
<script src="{% static 'vendor/counter-up/jquery.waypoints.min.js' %}"></script>
<script src="{% static 'vendor/counter-up/jquery.counterup.min.js' %}"></script>
<script src="{% static 'vendor/circle-progress/circle-progress.min.js' %}"></script>
<script src="{% static 'vendor/perfect-scrollbar/perfect-scrollbar.js' %}"></script>
<script src="{% static 'vendor/chartjs/Chart.bundle.min.js' %}"></script>
<script src="{% static 'vendor/select2/select2.min.js' %}"></script>

<!-- Main JS-->
<script src="{% static 'js/js/main.js' %}"></script>


</body>

</html>
<!-- end document-->
